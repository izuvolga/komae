# v0.0 リリースに向けてのTODO

## 細かい改善
- [x]: プロジェクト名に空白が含まれるとアセットが正常に読み込まれない。
  - i.e "komae-asset:///Users/greymd/Desktop/aaa bbb/assets/images/1-18.jpg"
  - なぜか上のようなパスを読み込んでくれない
- [x]: プロジェクトの assets/fonts ディレクトリはもはや不要なので作らない
- [ ]: プロジェクトを開いたときに存在しないアセットは assets/ ディレクトリ配下から削除
- [ ]: ImageAsset のマスクの処理が ImageEditModal.tsx の中で編集はできるがそれ以外では効果がない
  - Preview Window でのプレビューもマスクが適用されていない
  - HTML でエクスポートしてもマスクが適用されていない
  - docs/design/svg-structure.md のマスク情報の記述を参考に、マスクの処理を SVG に適用する
- [ ]: ImageAsset / TextAsset の Edit 画面のプレビューの箇所、キャンバスサイズちょうどではなく、上下左右に10%ずつくらいに作業領域を拡大させて、キャンバス外部にはみ出す形でも編集できるようにする。

## HTML ファイル関連
- [ ]: 次ページ、前ページを、表示画面の上半分・下半分タップのみで切り替えられるようにする
  - ./docs/design/html-export.md の "HTML Viwer" の見出し参照
- [ ]: エクスポート時に、ページ送り、ページタップ範囲のデフォルトの値を指定できるようにする
- [ ]: HTML Viewer の中にフォントのライセンス全文と著作権表示を表示する画面を追加する

## SpreadSheet での z_index 編集機能（将来実装）
- [ ]: SpreadSheet のアセットセル内に小さな z_index 数値入力フィールドを追加
  - 仕様: cell-manage部分（30px幅）に8-9pxフォントサイズの数値入力（20x12px程度）
  - 表示: アセットインスタンス使用時のみ表示、getEffectiveZIndex()の値を表示
  - 編集: 直接入力でoverride_z_indexを更新、デフォルト値と異なる場合は青背景でハイライト
  - UI: ツールチップで詳細情報表示、右クリックで「デフォルトに戻す」メニュー
  - レイアウト: チェックボックス、編集ボタン、z_index入力の縦並び配置

## 大きめの改善
- [ ]: 右パネルの Preview Window を別ウィンドウとして分離して表示できるようにする
- [ ]: Asset Library の Asset の表示順番をドラッグ＆ドロップで変更できるようにする（プロジェクトを保存しても順番を保持したいため、Asset にインデックスをもたせるか、assetsのデータ構造を配列にするか...要検討）
- [ ]: Asset Library の Asset を自動でソートする機能をほしい
  - 種類ごと
  - 名前順
- [ ]: SpreadSheet Window の列のバルク操作に、列自体を非表示にする機能を追加
- [ ]: TextAsset に rotate を対応する
- [ ]: TextAsset Bulk Edit にエディタ感のある見た目にする
  - 行番号表示
  - 編集をしたら、編集がされた行の背景色を変更する
  - yaml のフォーマットがおかしい場合には警告エラーメッセージを表示する
- [ ]: 新規アセット: スクリプト生成できる SVG (docs/design/asset-specificaiton.md)
- [ ]: 新規アセット: ラベル (docs/design/asset-specificaiton.md)
- [ ]: Spread Sheet 上にカーソルの概念を追加する。セルをクリックしたときに、カーソルがそのセルの位置に表示されるようにする。
  - UI: カーソルは線で表示し、カーソルの色は青色
  - キーボードの矢印キーでカーソルを移動できるようにする
  - Enterキーでそのセルの編集画面を開く
    - ImageAssetInstance の場合は ImageAsset 編集画面を開く
    - TextAssetInstance の場合は cell-content が小さなテキストボックスとなり、カーソルがそのテキストボックス内に表示される
  - Backspaceキーでカーソルの位置のセルの「変更をリセット」を行う
  - Ctrl+C あるいは Cmd+C でカーソル位置のセルの値をコピー
    - クリップボードには、その AssetInstance の情報がコピーされる
    - ペースト先のセルにペーストすると、AssetInstance の情報がペーストされる
      - 同じタイプの AssetInstance の場合は、同じ AssetInstance がペーストされる
      - 異なるタイプの AssetInstance の場合は、エラーメッセージを表示してペーストをしない

# v0.1 リリースに向けてのTODO

## プロジェクト管理
- [ ]: 自動保存機能
- [ ]: Redo/Undo 機能

## スプレッドシート関連
- [ ]: 特定のスプレッドシートの列を非表示にする機能

## アニメーション機能
- [ ]: ImageAsset/VectorAsset に簡単なアニメーション機能を追加
  - 同じページに JavaScript ないし CSS を使ってアニメーションを実装できるようにする
  - アニメーションの種類
    - 拡大・縮小の繰り返し
      - 息遣いのようなアニメーションを想定
      - 画像やテキストのサイズを少しずつ大きくして、元のサイズに戻す
      - 速度、大きさ、繰り返し回数、拡大の起点を指定できる
    - フェードイン・フェードアウト
      - 画像やテキストの透明度を変化させる
      - 速度、透明度の変化量、繰り返し回数を指定できる
    - 別の ImageAsset/VectorAsset への切り替え
      - 画像やテキストを別の画像やテキストに切り替える
      - 切り替えのタイミング、切り替え先のアセットを指定できる
      - 複数のアセットを順番に切り替えることも可能
      - 瞬きのようなアニメーションを想定
    - 角度の変化
      - 画像やテキストの回転を行う
      - 回転の角度、速度、繰り返し回数、回転の中心を指定できる
      - 腕を動かす、足を動かす、剣を振るうなどのアニメーションを想定

## デザイン
- [ ]: ソフトウェアのロゴ

## CI/CD パイプライン
- [ ]: GitHub Actions での CI/CD パイプラインを構築
- [ ]: ビルド済みアプリケーションを GitHub Releases にアップロード
